@using BIRA_Issue_Tracker.Extensions

@{
	var errorList = Html.GetNotifications(NotificationType.Error).ToArray();
	var warningList = Html.GetNotifications(NotificationType.Warning).ToArray();
	var successList = Html.GetNotifications(NotificationType.Success).ToArray();
	var infoList = Html.GetNotifications(NotificationType.Info).ToArray();
}
@*display errors*@
@if (errorList.Any())
{
	<div class="alert alert-danger alert-dismissable">
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		@if (errorList.Length > 1)
		{
			<strong><span class="glyphicon glyphicon-remove"></span> There are @errorList.Length errors: </strong>
			<ul>
				@foreach (var message in errorList)
				{
					<li>@Html.Raw(message)</li>
				}
			</ul>
		}
		else
		{
			<strong><span class="glyphicon glyphicon-remove"></span> Error: </strong>
			@Html.Raw(errorList.First())
		}
	</div>
}

@*display warnings*@
@if (warningList.Any())
{
	<div class="alert alert-warning alert-dismissable">
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		@if (warningList.Length > 1)
		{
			<strong><span class="glyphicon glyphicon-warning-sign"></span> There are @warningList.Length warnings: </strong>
			<ul>
				@foreach (var message in warningList)
				{
					<li>@Html.Raw(message)</li>
				}
			</ul>
		}
		else
		{
			<strong><span class="glyphicon glyphicon-warning-sign"></span> Warning: </strong>
			@Html.Raw(warningList.First())
		}
	</div>
}

@*display success*@
@if (successList.Any())
{
	<div class="alert alert-success alert-dismissable">
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		@if (successList.Length > 1)
		{
			<strong><span class="glyphicon glyphicon-ok"></span> There are @successList.Length successful notifications: </strong>
			<ul>
				@foreach (var message in successList)
				{
					<li>@Html.Raw(message)</li>
				}
			</ul>
		}
		else
		{
			<strong><span class="glyphicon glyphicon-ok"></span> Success! </strong>
			@Html.Raw(successList.First())
		}
	</div>
}

@*display success*@
@if (infoList.Any())
{
	<div class="alert alert-info alert-dismissable">
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		@if (infoList.Length > 1)
		{
			<strong><span class="glyphicon glyphicon-info-sign"></span> There are @infoList.Length notifications: </strong>
			<ul>
				@foreach (var message in infoList)
				{
					<li>@Html.Raw(message)</li>
				}
			</ul>
		}
		else
		{
			<strong>
				<span class="glyphicon glyphicon-info-sign"></span> </strong>
			@Html.Raw(infoList.First())
		}
	</div>
}